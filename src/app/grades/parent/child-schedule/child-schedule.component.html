<div class="p-4 sm:p-6 space-y-6 bg-gray-50 dark:bg-slate-950 min-h-screen animate-fadeIn">
  <!-- Welcome Section -->
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-gray-800 dark:text-white">Child's Schedule</h2>
    <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">View your child's class schedule and timetable</p>
  </div>

  <!-- Student Selector -->
  <div class="bg-white dark:bg-slate-900 border dark:border-slate-800 rounded-2xl p-4 shadow-sm flex flex-col sm:flex-row sm:items-center justify-between gap-4">
    <div class="flex items-center gap-3">
      <div class="w-12 h-12 bg-gradient-to-br from-green-600 to-green-400 rounded-2xl flex items-center justify-center text-white font-bold text-lg">
        {{ selectedStudentAvatar }}
      </div>
      <div>
        <h3 class="font-bold text-gray-800 dark:text-white">{{ selectedStudentName }}</h3>
        <p class="text-xs text-gray-500 dark:text-gray-400">{{ selectedStudentCourse }}</p>
      </div>
    </div>
    <div>
      <select 
        [(ngModel)]="selectedStudentId" 
        (ngModelChange)="onStudentChange($event)"
        class="w-full sm:w-64 px-4 py-2.5 bg-gray-50 dark:bg-slate-800 border dark:border-slate-700 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"
      >
        <option *ngFor="let student of students" [value]="student.id">
          {{ student.name }} - {{ student.course }}
        </option>
      </select>
    </div>
  </div>

  <!-- Weekly Schedule Card -->
  <div class="bg-white dark:bg-slate-900 border dark:border-slate-800 rounded-2xl shadow-sm overflow-hidden">
    <div class="p-6 border-b dark:border-slate-800 flex flex-col sm:flex-row sm:items-center justify-between gap-4">
      <h3 class="text-lg font-bold text-gray-800 dark:text-white">Weekly Schedule</h3>
      <div class="flex items-center gap-3">
        <div class="bg-gray-100 dark:bg-slate-800 p-1 rounded-xl border border-gray-200 dark:border-slate-700 flex shadow-sm">
          <button (click)="viewMode = 'weekly'" 
            [class]="viewMode === 'weekly' ? 'bg-blue-600 text-white shadow-md' : 'text-gray-500 hover:bg-gray-200 dark:hover:bg-slate-700'"
            class="px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2">
            <i class="fas fa-table"></i> Table View
          </button>
        </div>
      </div>
    </div>

    <!-- Table View -->
    <div *ngIf="viewMode === 'weekly'" class="overflow-x-auto">
      <table class="w-full text-left border-collapse">
        <thead>
          <tr class="bg-gray-50 dark:bg-slate-800/50 text-gray-500 dark:text-slate-400 text-xs uppercase font-bold tracking-wider">
            <th class="p-4 border-b dark:border-slate-800">Time</th>
            <th *ngFor="let day of weekDays" class="p-4 border-b dark:border-slate-800">{{ day }}</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100 dark:divide-slate-800 text-sm">
          <tr *ngFor="let slot of scheduleTable" class="hover:bg-gray-50 dark:hover:bg-slate-800/20">
            <td class="p-4 font-medium text-gray-600 dark:text-gray-400 whitespace-nowrap border-r dark:border-slate-800">
              {{ slot.time }}
            </td>
            <td *ngFor="let day of weekDaysLower" class="p-2 min-w-[180px]">
              <div *ngIf="slot[day]" (click)="openClassDetails(slot[day])"
                class="p-3 rounded-xl border transition-all cursor-pointer hover:shadow-md active:scale-95"
                [ngClass]="{
                  'bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800': true
                }">
                <div class="text-blue-700 dark:text-blue-400 font-bold text-xs mb-1">{{ classData[slot[day]].code }}</div>
                <div class="text-gray-800 dark:text-gray-100 font-medium text-sm leading-tight mb-2">{{ classData[slot[day]].name }}</div>
                <div class="flex items-center gap-2 text-xs text-gray-500 dark:text-slate-400">
                  <span><i class="fas fa-door-open mr-1"></i> {{ classData[slot[day]].room }}</span>
                  <span><i class="fas fa-user-tie mr-1"></i> {{ classData[slot[day]].professor }}</span>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  <!-- Class Details Modal -->
  <div *ngIf="isModalOpen" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm">
    <div class="bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden">
      <div class="p-6 bg-blue-600 text-white relative">
        <button (click)="closeModal()" class="absolute top-4 right-4 hover:bg-white/20 p-2 rounded-full transition-colors">
          <i class="fas fa-times"></i>
        </button>
        <div class="text-xs font-bold uppercase tracking-wider opacity-80 mb-1">Class Details</div>
        <h3 class="text-2xl font-bold">{{ selectedClass?.code }}</h3>
        <p class="text-blue-100">{{ selectedClass?.name }}</p>
      </div>
      <div class="p-6 space-y-4">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider block mb-1">Professor</label>
            <div class="text-gray-800 dark:text-white font-medium">{{ selectedClass?.professor }}</div>
          </div>
          <div>
            <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider block mb-1">Room</label>
            <div class="text-gray-800 dark:text-white font-medium">{{ selectedClass?.room }}</div>
          </div>
          <div>
            <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider block mb-1">Schedule</label>
            <div class="text-gray-800 dark:text-white font-medium">{{ selectedClass?.schedule }}</div>
          </div>
          <div>
            <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider block mb-1">Units</label>
            <div class="text-gray-800 dark:text-white font-medium">{{ selectedClass?.units }}</div>
          </div>
          <div class="col-span-2">
            <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider block mb-1">Current Grade</label>
            <div class="text-gray-800 dark:text-white font-medium">{{ selectedClass?.grade || 'Not yet graded' }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>