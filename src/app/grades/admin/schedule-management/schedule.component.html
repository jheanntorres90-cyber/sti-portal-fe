<div class="p-8 bg-gray-50 dark:bg-slate-950 min-h-screen space-y-8 transition-colors duration-300">

  <!-- HEADER -->
  <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
    <div>
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white tracking-tight">
        Class Schedule Management
      </h1>
      <p class="text-sm text-gray-500 dark:text-slate-400 font-medium">
        Academic Year 2025-2026 | 2nd Semester
      </p>
    </div>

    <!-- VIEW SWITCH -->
    <div class="flex bg-white dark:bg-slate-900 p-1 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm">
      <button (click)="activeTab = 'calendar'"
        [ngClass]="activeTab === 'calendar'
          ? 'bg-blue-600 text-white shadow-md'
          : 'text-gray-600 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-800'"
        class="px-5 py-2.5 rounded-lg text-xs font-bold transition-all flex items-center gap-2">
        <i class="fas fa-calendar-alt"></i> CALENDAR
      </button>

      <button (click)="activeTab = 'list'"
        [ngClass]="activeTab === 'list'
          ? 'bg-blue-600 text-white shadow-md'
          : 'text-gray-600 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-800'"
        class="px-5 py-2.5 rounded-lg text-xs font-bold transition-all flex items-center gap-2">
        <i class="fas fa-list"></i> LIST VIEW
      </button>
    </div>
  </div>

  <!-- ALERTS -->
  <div class="space-y-3">
    <div *ngFor="let alert of alerts; let i = index"
      class="flex items-start gap-3 p-4 rounded-2xl shadow-sm border-l-4"
      [ngClass]="{
        'bg-green-50 border-green-500 text-green-700': alert.type === 'success',
        'bg-red-50 border-red-500 text-red-700': alert.type === 'error',
        'bg-yellow-50 border-yellow-500 text-yellow-700': alert.type === 'warning',
        'bg-blue-50 border-blue-500 text-blue-700': alert.type === 'info'
      }">
      <i class="fas"
        [ngClass]="{
          'fa-check-circle': alert.type === 'success',
          'fa-exclamation-circle': alert.type === 'error',
          'fa-exclamation-triangle': alert.type === 'warning',
          'fa-info-circle': alert.type === 'info'
        }"></i>
      <span class="text-sm font-medium flex-1">{{alert.message}}</span>
      <button (click)="removeAlert(i)" class="text-xs font-bold opacity-60 hover:opacity-100">âœ•</button>
    </div>
  </div>

  <!-- STATS -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
    <div class="bg-white dark:bg-slate-900 p-6 rounded-3xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center gap-5">
      <div class="w-14 h-14 rounded-2xl bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center text-xl shadow-inner">
        <i class="fas fa-calendar"></i>
      </div>
      <div>
        <div class="text-2xl font-black text-gray-900 dark:text-white">168</div>
        <div class="text-[11px] text-gray-400 uppercase font-bold tracking-widest">Total Classes</div>
      </div>
    </div>

    <div class="bg-white dark:bg-slate-900 p-6 rounded-3xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center gap-5">
      <div class="w-14 h-14 rounded-2xl bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center text-xl shadow-inner">
        <i class="fas fa-door-open"></i>
      </div>
      <div>
        <div class="text-2xl font-black text-gray-900 dark:text-white">42</div>
        <div class="text-[11px] text-gray-400 uppercase font-bold tracking-widest">Active Rooms</div>
      </div>
    </div>

    <div class="bg-white dark:bg-slate-900 p-6 rounded-3xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center gap-5">
      <div class="w-14 h-14 rounded-2xl bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center text-xl shadow-inner">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <div>
        <div class="text-2xl font-black text-gray-900 dark:text-white">5</div>
        <div class="text-[11px] text-gray-400 uppercase font-bold tracking-widest">Conflicts</div>
      </div>
    </div>

    <div class="bg-white dark:bg-slate-900 p-6 rounded-3xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center gap-5">
      <div class="w-14 h-14 rounded-2xl bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center text-xl shadow-inner">
        <i class="fas fa-chart-pie"></i>
      </div>
      <div>
        <div class="text-2xl font-black text-gray-900 dark:text-white">87%</div>
        <div class="text-[11px] text-gray-400 uppercase font-bold tracking-widest">Utilization</div>
      </div>
    </div>
  </div>

  <!-- CALENDAR VIEW -->
  <div *ngIf="activeTab === 'calendar'"
    class="bg-white dark:bg-slate-900 rounded-3xl border border-gray-100 dark:border-slate-800 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500">

    <div class="p-6 flex justify-between items-center border-b border-gray-100 dark:border-slate-800">
      <div class="font-bold text-gray-900 dark:text-white">Weekly Schedule</div>
      
      <button (click)="openAddModal()"
        class="bg-blue-600 text-white px-5 py-2.5 rounded-xl text-xs font-bold shadow-md hover:bg-blue-700 transition-all">
        <i class="fas fa-plus"></i> Add Schedule
      </button>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full text-left border-collapse table-fixed min-w-[1000px]">
        <thead>
          <tr class="bg-gray-50 dark:bg-slate-800 border-b border-gray-100 dark:border-slate-800">
            <th class="p-4 text-xs font-black text-gray-400 uppercase text-center w-32">Time</th>
            <th *ngFor="let day of days"
              class="p-4 text-xs font-black text-gray-400 uppercase">{{day}}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let timeSlot of timeSlots" class="border-b border-gray-50 dark:border-slate-800">
            <td class="p-3 text-[11px] font-bold text-blue-700 dark:text-blue-400 text-center">
              {{timeSlot.display}}
            </td>
            <td *ngFor="let day of days" class="p-2 align-top">
              <div *ngIf="getScheduleForDayAndTime(day, timeSlot.time) as schedule"
                (click)="openDetailsModal(schedule)"
                class="bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 border-l-4 border-l-blue-600 dark:border-l-blue-500 p-3 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">
                <div class="text-[9px] font-black text-blue-600 dark:text-blue-400">
                  {{schedule.course}}
                </div>
                <div class="text-[10px] text-gray-600 dark:text-slate-400">
                  {{schedule.room}}
                </div>
                <div class="text-[9px] italic text-gray-400">
                  {{schedule.startTime}} - {{schedule.endTime}}
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- LIST VIEW -->
 <div *ngIf="activeTab === 'list'"
     class="space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500">

     <div class="bg-white dark:bg-slate-900 p-6 rounded-3xl border border-gray-100 dark:border-slate-800 shadow-sm">

    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
        <input
        type="text"
        placeholder="Search schedules..."
        class="w-full md:w-1/3 px-4 py-2 rounded-xl border border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 text-sm focus:ring-2 focus:ring-blue-500 outline-none"
        #searchInput
      (input)="filterSchedules(searchInput.value)" />

      <!-- Buttons -->
      <div class="flex items-center gap-3">

        <button (click)="importSchedules()"
          class="flex items-center gap-2 px-5 py-2.5 rounded-2xl 
                 bg-gray-100 hover:bg-gray-200 
                 dark:bg-slate-800 dark:hover:bg-slate-700
                 text-gray-700 dark:text-slate-300 text-sm font-semibold transition-all shadow-sm">
          <i class="fas fa-upload"></i>
          Import
        </button>

        <button (click)="openBulkUploadModal()"
          class="flex items-center gap-2 px-5 py-2.5 rounded-2xl 
                 bg-gray-100 hover:bg-gray-200 
                 dark:bg-slate-800 dark:hover:bg-slate-700
                 text-gray-700 dark:text-slate-300 text-sm font-semibold transition-all shadow-sm">
          <i class="fas fa-file-excel"></i>
          Bulk Upload
        </button>

        <button (click)="exportSchedules()"
          class="flex items-center gap-2 px-5 py-2.5 rounded-2xl 
                 bg-blue-600 hover:bg-blue-700 
                 text-white text-sm font-semibold transition-all shadow-md">
          <i class="fas fa-download"></i>
          Export
        </button>

      </div>
    </div>
  </div>

  <!-- Grouped By Day -->
<ng-container *ngFor="let day of days">
 
    <div *ngIf="hasSchedulesForDay(day)"
       class="space-y-4">

    <!-- Day Header -->
    <h3 class="flex items-center gap-3 text-lg font-black text-gray-800 dark:text-gray-100 uppercase tracking-tighter">
      <span class="w-10 h-10 rounded-xl bg-blue-600 text-white flex items-center justify-center shadow-lg shadow-blue-200 dark:shadow-blue-900/20">
        <i class="fas fa-calendar"></i>
      </span>
      {{ day }}
    </h3>

    <!-- Cards Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">

      <ng-container *ngFor="let schedule of filteredSchedules">

        <div *ngIf="schedule.day === day"
             (click)="openDetailsModal(schedule)"
             class="bg-white dark:bg-slate-900 p-6 rounded-3xl border border-gray-100 dark:border-slate-800 shadow-sm hover:border-blue-400 dark:hover:border-blue-500 cursor-pointer transition-all hover:shadow-xl group">

          <div class="flex justify-between items-start mb-4">
            <span class="bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-[10px] font-black px-3 py-1.5 rounded-full ring-1 ring-blue-100 dark:ring-blue-900/50">
              {{ schedule.startTime }} - {{ schedule.endTime }}
            </span>

            <i class="fas fa-chevron-right text-gray-300 dark:text-slate-700 group-hover:text-blue-500 transition-colors"></i>
          </div>

          <h4 class="font-black text-gray-900 dark:text-white text-base leading-tight">
            {{ schedule.course }}
          </h4>

          <p class="text-sm text-gray-500 dark:text-slate-400 font-medium mt-1">
            {{ schedule.teacher }}
          </p>

          <div class="mt-6 pt-4 border-t border-gray-50 dark:border-slate-800 
                      flex items-center justify-between 
                      text-[11px] text-gray-400 dark:text-slate-500 
                      font-bold uppercase tracking-tighter">

            <span class="flex items-center gap-1.5">
              <i class="fas fa-door-open text-blue-500"></i>
              {{ schedule.room }}
            </span>

            <span [ngClass]="schedule.status === 'Active'
                ? 'text-green-500'
                : 'text-red-500'"
              class="flex items-center gap-1.5">

              <i class="fas fa-circle text-[8px]"></i>
              {{ schedule.status }}
            </span>

          </div>

        </div>

      </ng-container>

    </div>

  </div>

</ng-container>
 </div>

 <!-- ADD SCHEDULE MODAL -->
<div *ngIf="showAddModal"
     class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">

  <div class="bg-white dark:bg-slate-900 rounded-3xl w-full max-w-2xl p-6 shadow-xl">

    <!-- Header -->
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-lg font-bold text-gray-800 dark:text-white">
        Add New Schedule
      </h2>

      <button (click)="closeAddModal()"
              class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- Form -->
    <form (ngSubmit)="saveSchedule()"
          class="grid grid-cols-1 md:grid-cols-2 gap-5">

      <!-- Course Code -->
      <div class="col-span-full">
        <label class="text-xs uppercase text-slate-400 font-black">
          Course Code
        </label>
        <input type="text"
               [(ngModel)]="formCourseCode"
               name="courseCode"
               placeholder="Search for a course..."
               class="w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 py-2.5 text-sm dark:text-white focus:ring-2 ring-blue-500 transition-all">
      </div>

      <!-- Teacher -->
      <div>
        <label class="text-xs uppercase text-slate-400 font-black">
          Teacher
        </label>
        <select [(ngModel)]="formTeacher"
                name="teacher"
                class="w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 py-2.5 text-sm dark:text-white focus:ring-2 ring-blue-500 transition-all">
          <option *ngFor="let teacher of teachers">
            {{ teacher }}
          </option>
        </select>
      </div>

      <!-- Room -->
      <div>
        <label class="text-xs uppercase text-slate-400 font-black">
          Room
        </label>
        <select [(ngModel)]="formRoom"
                name="room"
                class="w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 py-2.5 text-sm dark:text-white focus:ring-2 ring-blue-500 transition-all">
          <option *ngFor="let room of rooms">
            {{ room }}
          </option>
        </select>
      </div>

      <!-- Day -->
      <div>
        <label class="text-xs uppercase text-slate-400 font-black">
          Day
        </label>
        <select [(ngModel)]="formDay"
                name="day"
                class="w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 py-2.5 text-sm dark:text-white focus:ring-2 ring-blue-500 transition-all">
          <option *ngFor="let day of days">
            {{ day }}
          </option>
        </select>
      </div>

      <!-- Duration -->
      <div>
        <label class="text-xs uppercase text-slate-400 font-black">
          Duration
        </label>
        <select [(ngModel)]="formDuration"
                name="duration"
                (change)="updateEndTime()"
                class="w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 py-2.5 text-sm dark:text-white focus:ring-2 ring-blue-500 transition-all">
          <option *ngFor="let duration of durations"
                  [value]="duration.value">
            {{ duration.label }}
          </option>
        </select>
      </div>

      <!-- Start Time -->
      <div>
        <label class="text-xs uppercase text-slate-400 font-black">
          Start Time
        </label>
        <input type="time"
               [(ngModel)]="formStartTime"
               name="startTime"
               (change)="updateEndTime()"
               class="w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 py-2.5 text-sm dark:text-white focus:ring-2 ring-blue-500 transition-all">
      </div>

      <!-- End Time -->
      <div>
        <label class="text-xs uppercase text-slate-400 font-black">
          End Time
        </label>
        <input type="time"
               [(ngModel)]="formEndTime"
               name="endTime"
               readonly
               class="w-full bg-slate-100 dark:bg-slate-700 border-none rounded-2xl px-4 py-2.5 text-sm dark:text-white">
      </div>

      <!-- Buttons -->
      <div class="col-span-full flex justify-end gap-3 pt-4">
        <button type="button"
                (click)="closeAddModal()"
                class="px-5 py-2 rounded-2xl text-xs font-bold bg-slate-200 dark:bg-slate-700 dark:text-white">
          Cancel
        </button>

        <button type="submit"
                class="px-5 py-2 rounded-2xl text-xs font-bold bg-blue-600 text-white hover:bg-blue-700">
          Add Schedule
        </button>
      </div>

    </form>

  </div>
</div>


